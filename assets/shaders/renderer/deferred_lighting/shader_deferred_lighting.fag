#version 330 core

in vec2 uv;

out vec4 fragColor;

uniform sampler2D texture_normal;
uniform sampler2D texture_albedospec;

uniform sampler2D texture_shadow;

uniform sampler2D texture_depth;

uniform mat4 projection_inverse;

void main()
{
	float depth=texture(texture_depth, uv).r;//getting depth buffer info
	vec4 pos = projection_inverse * (vec4(uv, depth, 1)* 2 - 1);
	vec3 viewspace_position = pos.xyz / pos.w;

	fragColor=vec4(0.005*viewspace_position+0.5,1);
}